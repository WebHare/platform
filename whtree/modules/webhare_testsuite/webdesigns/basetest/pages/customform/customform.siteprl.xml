<?xml version="1.0" encoding="UTF-8"?>
<siteprofile xmlns="http://www.webhare.net/xmlns/publisher/siteprofile">

  <contenttype namespace="http://www.webhare.net/xmlns/webhare_testsuite/customform">
    <member name="somedata" type="string" />
  </contenttype>

  <filetype typedef="http://www.webhare.net/xmlns/webhare_testsuite/customform"
            blobiscontent="false"
            extensions=".customform"
            isacceptableindex="true"
            ispublishable="true"
            ispublishedassubdir="true"
            needstemplate="true"
            title="WebHare testsuite customform type"
            tolliumicon="tollium:files/application_x-webhare-survey">
    <dynamicexecution routerfunction="customform.whlib#CustomFormRouter" />
  </filetype>

  <apply>
    <to type="file" filetype="http://www.webhare.net/xmlns/webhare_testsuite/customform" />
    <setobjecteditor name="publisher:webtoolform" separateapp="true" />
    <extendformeditor settingsextension="customform.xml#props" />
    <formintegration allowsubmittype="true" mailrtdtype="http://www.webhare.net/xmlns/webhare_testsuite/custommailrtdtype" />
    <allowformquestion type="http://www.webhare.net/xmlns/webhare_testsuite/testformcomponents#multimergefield" />
    <allowformquestion type="http://www.webhare.net/xmlns/webhare_testsuite/testformcomponents#matchattributes?attr1=type2&amp;attr2=true" />
    <allowformhandler type="http://www.webhare.net/xmlns/publisher/forms#mailconfirmationhandler" />
  </apply>

  <apply>
    <to type="file" parentmask="/webtools/" />
    <allowfiletype typedef="http://www.webhare.net/xmlns/webhare_testsuite/customform" />
  </apply>

  <rtdtype namespace="http://www.webhare.net/xmlns/webhare_testsuite/custommailrtdtype">
    <blockstyles defaultstyle="NORMAL">
      <textstyle tag="NORMAL" textstyles="b i a-href img sup sub strike" />
    </blockstyles>
    <widgets ignoresiteprofilewidgets="true">
      <allowtype type="http://www.webhare.net/xmlns/webhare_testsuite/customformwidget" />
    </widgets>
  </rtdtype>

  <widgettype editextension="#editcustomformwidget"
              ingroup="http://www.webhare.net/xmlns/publisher/mailwidgets"
              namespace="http://www.webhare.net/xmlns/webhare_testsuite/customformwidget"
              renderobjectname="customform.whlib#customformwidget"
              requiremergefieldscontext="true"
              title="Custom Form Widget">
    <members>
      <member name="fieldname" type="string" />
    </members>
  </widgettype>

  <tabsextension xmlns="http://www.webhare.net/xmlns/tollium/screens"
            name="editcustomformwidget"
            implementation="lib"
            library="customform.whlib">
    <newtab>
      <select composition="contentdata" cellname="fieldname" name="fieldname" type="pulldown" required="true" />
    </newtab>
  </tabsextension>

</siteprofile>
