typeGroup: baseTest
types:
  siteSettings:
    title: WTS Site Settings
    members:
      mode:
        type: string
      setting:
        type: string
      when:
        type: datetime

  baseTestProps:
    namespace: http://www.webhare.net/xmlns/webhare_testsuite/basetestprops
    title: WTS base test
    members:
      anyField:
        type: string
        title: Any field
      numberField:
        type: integer
        title: A number field
        constraints:
          minValue: 0
      taxonomy:
        type: whfsrefarray
        title: Taxonomy tags
      folksonomy:
        type: whfsrefarray
        title: Folksonomy tags
        layout: section
      rtd:
        type: richdocument
        title: Rich text document
        layout: block #FIXME should be implicit because its a richdocument
      complexField:
        type: array
        title: Complex field
        members:
          complexRecord:
            type: record
            title: Complex record
            members:
              complexField1:
                type: string
                title: Complex field 1
      whUser:
        type: string
        title: WH User
        component:
          "http://www.webhare.net/xmlns/system/components#selectuser":
            inputKind: wrdGuid
      multiField:
        type: record
        constraints:
          required: true
        title: Multi field
        members:
          num1:
            type: integer
          hasNum2:
            type: boolean
          num2:
            type: integer
        lines:
        - line:
            parts:
            - textedit:
                name: num1
                valueType: integer
            - checkbox:
                name: hasNum2
                label: "and up to:"
            - textedit:
                name: num2
                valueType: integer

apply:
  - to:
      type: http://www.webhare.net/xmlns/publisher/richdocumentfile
    baseProps: [seotitle]
    editProps:
      - type: baseTestProps
        layout: [anyField, numberField, folksonomy, whUser, rtd, multiField]
        override:
          numberField:
            constraints:
              maxValue: 100
            props:
              suffix: "kg"
              emptyValue: 1

  - to:
      pathMatch: metaoverride1
    baseProps: [seotitle]
    editProps:
      - type: baseTestProps
        override:
          numberField:
            props:
              emptyValue: 2
          whUser:
            title: WH Usertje
            component:
              textarea:

  - to:
      pathMatch: allprops
    editProps:
      - type: global.genericTestType
        layout: all
