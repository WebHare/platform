<?wh
LOADLIB "mod::system/lib/testframework.whlib";
LOADLIB "mod::tollium/lib/testframework.whlib";
LOADLIB "mod::tollium/lib/components/radiobutton.whlib";

ASYNC MACRO TestTTLookup()
{
  AWAIT ExpectScreenChange(+1, PTR GetTestController()->RunScreen(InlineScreens(`
  <screen name="test" implementation="none">
    <body>
      <select name="select1" type="radio">
        <option rowkey="option1" title="Option 1" />
      </select>
      <image name="img1" value="tollium:status/sending" width="16px" height="16px" hint="I have a hint" title="I have a title" />
    </body>
  </screen>`)));

  OBJECT radiooption1 := TT(":Option 1");
  TestEq(TRUE, ObjectExists(radiooption1));
  TEstEQ(TRUE, radiooption1 EXTENDSFROM TolliumRadioButton);

  OBJECT img := TT(":I have a title");
  TestEq("img1", img->name);
  img := TT(":I have a hint");
  TestEq("img1", img->name);

  AWAIT ExpectScreenChange(-1, PTR TTEscape);
}

RunTestFramework( [ PTR TestTTLookup
                  ]);
