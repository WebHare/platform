<?wh

LOADLIB "mod::tollium/lib/screenbase.whlib";

PUBLIC STRING FUNCTION GetVirtualCellValue(OBJECT contexts)
{
  RETURN `** ${contexts->screen->^textedit1->value} **`;
}
PUBLIC MACRO SetVirtualCellValue(OBJECT contexts, STRING newvalue)
{
  contexts->screen->^textedit1->value := Substring(newvalue, 3, Length(newvalue)-6);
}

PUBLIC STATIC OBJECTTYPE SubmittingScreen EXTEND TolliumScreenBase
<
  BOOLEAN FUNCTION Submit()
  {
    RETURN this->BeginFeedback()->Finish();
  }
>;


PUBLIC RECORD ARRAY FUNCTION MySourceFilter(OBJECT contexts, RECORD ARRAY rows, STRING input)
{
  IF(input = "")
    rows := SELECT * FROM rows WHERE rowkey=4;
  ELSE IF(input IN ["1","2","3","4"])
    rows := SELECT * FROM rows WHERE rowkey >= ToInteger(input,0);

  RETURN rows;
}
