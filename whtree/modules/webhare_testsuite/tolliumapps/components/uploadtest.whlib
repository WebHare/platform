<?wh

LOADLIB "mod::tollium/lib/screenbase.whlib";


PUBLIC STATIC OBJECTTYPE UploadTest EXTEND TolliumScreenBase <
  MACRO OnUpload(RECORD file)
  {
    ^result->value := EncodeJSON(CELL[...file, DELETE data, datasize := Length64(file.data)]);
  }
  MACRO OnDrop(RECORD dragdata, RECORD droptarget, STRING dropaction, STRING droptype)
  {
    ^result->value := EncodeJSON(
      SELECT *, DELETE data, datasize := Length64(data) FROM dragdata.items
      );
  }
>;
