<?wh

LOADLIB "mod::webhare_testsuite/lib/system/tests.whlib";


PUBLIC RECORD ARRAY FUNCTION GetTestSiteCatalogSources(STRING tag)
{
  IF(tag != "webhare_testsuite:testsitecatalog")
    ABORT(`Invalid tag '${tag}'`);

  OBJECT testsuitesite := OpenTestsuiteSite();
  IF(NOT ObjectExists(testsuitesite))
    RETURN RECORD[];

  OBJECT portal1 := testsuitesite->OpenByPath("portal1");
  IF(NOT ObjectExists(portal1))
    RETURN RECORD[];

  RETURN [[ fsobject := portal1->id ]];
}
