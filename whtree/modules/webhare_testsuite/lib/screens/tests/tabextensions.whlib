<?wh
LOADLIB "mod::tollium/lib/screenbase.whlib";

PUBLIC OBJECT got_tabs;

PUBLIC STATIC OBJECTTYPE Test EXTEND TolliumScreenBase
<
  PUBLIC RECORD loadinfo;

  MACRO Init(RECORD data)
  {
    ^tabs->insertpoints := [[ name := "thefirsttab", component := ^firsttab ]];
    ^tabs->extendcomponents := [[ name := "externalradiogroup", component := ^mainradio ]];
  }
  MACRO DoLoadExtension2()
  {
    this->loadinfo := ^tabs->LoadTabsExtension(`mod::webhare_testsuite/data/test/tollium/extensions.xml#ExtensionWithcode`);
  }
>;

PUBLIC OBJECTTYPE ExtensionWithCode EXTEND TolliumTabsExtensionBase
<
  UPDATE PUBLIC MACRO InitExtension(OBJECT tabs)
  {
    IF (ObjectExists(got_tabs))
      THROW NEW Exception("Initialized twice");
    got_tabs := tabs;
  }
>;
