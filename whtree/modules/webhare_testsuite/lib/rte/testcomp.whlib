<?wh
LOADLIB "wh::witty.whlib";

LOADLIB "mod::system/lib/cache.whlib";

LOADLIB "mod::publisher/lib/widgets.whlib";

PUBLIC STATIC OBJECTTYPE RTDInstanceTestObj EXTEND WidgetBase
<
  MACRO NEW()
  {
  }

  UPDATE PUBLIC MACRO Render()
  {
    IF(RecordExists(this->data))
      Print("a <b>preview</b> rendering. your string data: <i>" || EncodeHTML(this->data.stringdata) || "</i>");
    ELSE
      Print("a <b>preview</b> rendering.");
  }
  UPDATE PUBLIC MACRO RenderLive()
  {
    EmbedWittyComponent("mod::webhare_testsuite/lib/publisher/testsitedesign.witty:blinky", [ text := this->data.stringdata, img := WrapCachedImage(this->data.img, [method := "none"]) ]);
  }
>;
