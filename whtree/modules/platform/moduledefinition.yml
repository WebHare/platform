managedServices:
  apprunner:
    script: mod::system/scripts/internal/apprunner.whscr
    run: always
  tollium-wasm-runner:
    script: mod::tollium/scripts/internal/applicationstarter.whscr
    run: on-demand
    engine: wasm
  nodeservices: # Implements JS-based <backendservice>s
    script: js/nodeservices/nodeservices.ts
    run: always

backendServices:
  openapiservice:
    clientFactory: "mod::system/js/internal/openapi/openapiservice.ts#getServiceInstance"
  jsrouterservice:
    clientFactory: "mod::system/js/internal/webserver/jsrouterservice.ts#getJSRouter"
  fetchpool:
    clientFactory: "mod::system/js/internal/fetchpool/fetchpool.ts#getFetcher"
  jsonapicaller:
    clientFactory: "mod::system/js/internal/jsonrpccaller.ts#getJSONApiCaller"
  assetpacks:
    controllerFactory: js/assetpacks/control.ts#createAssetPackManager
  configuration:
    controllerFactory: js/configure/configservice.ts#createConfigManager
    coreService: true

selfChecks:
  - checker: js/checks/servicechecks.ts#checkMissingServices

assetPacks:
  pwaserviceworker:
    entryPoint: webfeatures/pwaserviceworker/pwaserviceworker
    supportedLanguages: [en]
    whPolyfills: false
  tollium:
    entryPoint: mod::tollium/webdesigns/webinterface/webinterface
    supportedLanguages: [en, nl]
    whPolyfills: false #tollium shouldn't be recompiled by webserver list changes
  authormode:
    entryPoint: mod::publisher/webdesigns/authormode/authormode.tsx
    supportedLanguages: [en, nl]
    whPolyfills: false #we shouldn't polyfill with this assetpack, we're loaded side-by-side to an existing one
  testsuite:
    entryPoint: mod::system/web/systemroot/jstests/testsuite.tsx
    supportedLanguages: [en]
    whPolyfills: false #actually no platform assetpacks should every be recompiled by webservices list changes

webFeatures:
  identityprovider:
    siteProfile: webfeatures/identityprovider/identityprovider.siteprl.xml
