apply:
  - to: all
    priority: -1000
    forms:
      components:
        - allow: http://www.webhare.net/xmlns/publisher/forms#*
        - deny: http://www.webhare.net/xmlns/publisher/forms#address
        - deny: http://www.webhare.net/xmlns/publisher/forms#password
        - deny: http://www.webhare.net/xmlns/publisher/forms#rtd
        - deny: http://www.webhare.net/xmlns/publisher/forms#captcha
        - deny: http://www.webhare.net/xmlns/publisher/forms#array
        - deny: http://www.webhare.net/xmlns/publisher/forms#hidden
      handlers:
        - allow: http://www.webhare.net/xmlns/publisher/forms#*
        - deny: http://www.webhare.net/xmlns/publisher/forms#mailconfirmationhandler
      rtdTypes:
        - allow: http://www.webhare.net/xmlns/publisher/rtdfielddefaulttype
      mailRtdType: http://www.webhare.net/xmlns/publisher/defaultmailrtdtype
    rtdDoc:
      rtdType: http://www.webhare.net/xmlns/publisher/defaultrtdtype
  - to: all
    editProps:
      - type: publisher.lifecycle
        requireRight: system:supervisor
        tabsExtension: mod::publisher/tolliumapps/objectprops/extensions.xml#lifecycle
    fileTypes:
      - allowType: http://www.webhare.net/xmlns/publisher/*
      - denyType: filetypes.richdocument
      - denyType: filetypes.tag
      - denyType: filetypes.tagrepository
      - denyType: filetypes.profile
      - denyType: http://www.webhare.net/xmlns/publisher/formwebtool
      - denyType: http://www.webhare.net/xmlns/publisher/formwidget
    folderTypes:
      - allowType: foldertypes.default
      - allowType: foldertypes.system
    republish:
      - mask: "*"
        indexOnly: true
  - to:
      site: ?*
    folderTypes:
      - allowType: foldertypes.photoalbum
      - allowType: foldertypes.extern
  - to:
      is: folder
    republish:
      - folder: ..
        mask: "*"
        indexOnly: true
  - to:
      is: folder
      site: Repository
    folderIndex: none
  - comment: enable texteditors
    to:
      or:
        - is: file
          type: filetypes.javascript
        - is: file
          type: filetypes.semidynamic
        - is: file
          type: filetypes.css
        - is: file
          type: filetypes.library
        - is: file
          type: filetypes.plaintext
        - is: file
          type: http://www.webhare.net/xmlns/publisher/standalonetemplatefile
        - is: file
          type: filetypes.xml
        - is: file
          type: filetypes.shtml
        - is: file
          type: filetypes.shtmlwithdesign
        - is: file
          type: filetypes.witty
        - is: file
          type: filetypes.template
    setObjectEditor:
      name: publisher:texteditor
  - comment: "Configure the photoalbum's content listing (index) to render the album"
    to:
      is: file
      type: filetypes.contentlisting
      parentType: foldertypes.photoalbum
    bodyRenderer:
      objectName: mod::publisher/lib/widgets/gallerywidget.whlib#RenderGalleryWidgetPage
  - to:
      or:
        - is: folder
          type: foldertypes.system
        - is: folder
          type: foldertypes.tags
        - is: folder
          type: foldertypes.extern
    folderSettings:
      ordering: none
  - to:
      is: folder
      sitePath: /
    priority: 99999
    folderTypes:
      - allowType: foldertypes.default
rtdTypes:
  http://www.webhare.net/xmlns/publisher/defaultmailrtdtype:
    css:
      - mod::publisher/data/siteprofiles/defaultmailrtdtype.css
    defaultBlockStyle: normal
    blockStyles:
      normal:
        containerTag: p
        textStyles:
          - b
          - i
          - u
          - a-href
          - img
          - sup
          - sub
          - strike
      ordered:
        containerTag: ol
        textStyles:
          - b
          - i
          - u
          - a-href
          - img
          - sup
          - sub
          - strike
      unordered:
        containerTag: ul
        textStyles:
          - b
          - i
          - u
          - a-href
          - img
          - sup
          - sub
          - strike
    ignoreSiteProfileWidgets: true
  http://www.webhare.net/xmlns/publisher/defaultrtdtype:
    defaultBlockStyle: normal
    blockStyles:
      heading1:
        containerTag: h1
        textStyles:
          - i
          - u
      heading2:
        containerTag: h2
        textStyles:
          - i
          - u
      heading3:
        containerTag: h3
        textStyles:
          - i
          - u
      normal:
        containerTag: p
        textStyles:
          - b
          - i
          - u
          - a-href
          - img
          - sup
          - sub
          - strike
      unordered:
        containerTag: ul
        textStyles:
          - b
          - i
          - u
          - a-href
          - img
          - sup
          - sub
          - strike
      ordered:
        containerTag: ol
        textStyles:
          - b
          - i
          - u
          - a-href
          - img
          - sup
          - sub
          - strike
    tableStyles:
      table:
        allowStyles: []
