<screens xmlns="http://www.webhare.net/xmlns/tollium/screens"
         xmlns:webapis="http://www.webhare.net/xmlns/system/webapis"
         xmlns:wrd="http://www.webhare.net/xmlns/wrd/components"
         gid="userrights"
         library="/lib/screens/userrights/dialogs/users.whlib">

  <screen name="edituser" flags="cangrantany" gid=".edituser">
    <compositions>
      <wrd:entity name="userobj" />
    </compositions>

    <body spacers="none">
      <panel name="userinfopage">
        <tabs name="screentabs" type="regular">
          <tab name="account">
            <!-- <text  composition="userobj" cellname="wrd_fullname"/> -->
            <textedit composition="userobj" cellname="" name="email" maxlength="256" tid="~email" validationchecks="email" />
            <textedit composition="userobj" cellname="" name="username" maxlength="256" required="true" tid="~username" />
            <textedit composition="userobj" cellname="wrd_firstname" name="wrd_firstname" />
            <textedit composition="userobj" cellname="wrd_infix" name="wrd_infix" />
            <textedit composition="userobj" cellname="wrd_lastname" name="wrd_lastname" />
            <passwordfield name="password" entercurrentpassword="false" />
            <authenticationsettings composition="userobj"
                                    cellname=""
                                    name="authenticationsettings"
                                    tid=".authenticationsettings" />
            <select name="language" type="pulldown" width="1pr" tid="userrights.edituser.prefslang" />
            <accountstatus composition="userobj" cellname="wrdauth_account_status" allowed="active blocked" required="true" />
            <spacer name="insertpoint_account" visible="false" />
          </tab>
          <tab name="advanced">
            <datetime composition="userobj"
                      cellname="wrd_creationdate"
                      name="creationdate"
                      type="datetime"
                      enabled="false"
                      readonly="true"
                      storeutc="true" />
            <datetime composition="userobj"
                      cellname="whuser_lastlogin"
                      name="lastlogin"
                      type="datetime"
                      enabled="false"
                      readonly="true"
                      storeutc="true"
                      tid=".lastlogin" />
            <textedit name="lastip" enabled="false" readonly="true" tid=".lastip" visible="false" />
            <line layout="left">
              <text valuetid=".explainguid" wordwrap="true" />
            </line>
            <line layout="left">
              <checkbox name="enableguidedit"
                        enablecomponents="wrd_guid"
                        labeltid="userrights.edituser.enableguidedit"
                        title=""
                        visible="false" />
              <textedit name="wrd_guid" width="1pr" required="true" title="" />
            </line>
            <spacer name="insertpoint_advanced" visible="false" />
          </tab>
          <tab name="commentbox" tid="~comments">
            <textarea composition="userobj" cellname="whuser_comment" name="comments" width="1pr" height="1pr" title="" />
          </tab>
        </tabs>
      </panel>
    </body>

    <footer name="okcancel">
      <defaultformbuttons buttons="ok cancel" />
    </footer>
  </screen>

  <screen name="setuserdefaults" footerbuttons="ok cancel" gid="setuserdefaults" tid=".title">
    <body>
      <box hr="false" tid=".settings">
        <select name="language" type="pulldown" width="1pr" tid="userrights.edituser.prefslang" />

        <!--
        <select name="timeformat" type="pulldown" tid="userrights.edituser.prefstime" />
        <select name="dateformat" type="pulldown" tid="userrights.edituser.prefsdate" />
        -->
        <webapis:timezoneedit name="timezone" tid="userrights.edituser.timezone" />
        <select name="decimalsep" type="pulldown" width="1pr" tid="userrights.edituser.decimalsep">
          <option rowkey="." selected="true" tid="userrights.edituser.dot" />
          <option rowkey="," tid="userrights.edituser.comma" />
          <option rowkey=":" tid="userrights.edituser.colon" />
        </select>
        <select name="thousandsep" type="pulldown" width="1pr" tid="userrights.edituser.thousandsep">
          <option rowkey="" tid="userrights.edituser.none" />
          <option rowkey=" " tid="userrights.edituser.space" />
          <option rowkey="." tid="userrights.edituser.dot" />
          <option rowkey="," selected="true" tid="userrights.edituser.comma" />
          <option rowkey="'" tid="userrights.edituser.apostrophe" />
        </select>
      </box>
    </body>
  </screen>

</screens>
