<screens xmlns="http://www.webhare.net/xmlns/tollium/screens" gid="tolliumapps.dashboard.platform" library="platform.whlib" xmlns:wrd="http://www.webhare.net/xmlns/wrd/components">

  <screen name="platformpanel" allowresize="true" title="">
    <actions>
      <action name="gototask" onexecute="dogototask">
        <enableon source="results" min="1" max="1" checkflags="canjumpto" />
      </action>
      <action name="snooze">
        <enableon source="results" min="1" checkflags="cansnooze" onexecute="dosnooze" />
      </action>
      <action name="details">
        <enableon source="results" min="1" max="1" onexecute="dodetails" />
      </action>
      <action name="unsnooze">
        <enableon source="results" min="1" checkflags="canunsnooze" onexecute="dounsnooze" />
      </action>
    </actions>

    <menus>
      <menu name="contextmenu">
        <item action="details" />
        <item action="gototask" disablemode="hidden" />
        <item action="snooze" />
        <item action="unsnooze" />
      </menu>
    </menus>

    <body spacers="none">
      <grid height="1pr">
        <cell width="1pr">
          <list name="results"
                height="1pr"
                borders="none"
                defaultbutton="gototaskbutton"
                emptytid=".noerrors"
                flags="canjumpto cansnooze canunsnooze"
                ongetrows="ongeterrors"
                openaction="gototask"
                selectcontextmenu="contextmenu"
                selectmode="multiple"
                sortcolumn="message"
                rowiconname="rowicon"
                icons="tollium:status/warning tollium:status/schedule">
            <column name="since" type="datetime" storeutc="true" width="18x" />
            <column name="stopped" type="datetime" storeutc="true" width="18x" />
            <column name="message" type="text" width="2pr" />
            <column name="snoozed_until" type="datetime" storeutc="true" width="18x" />
          </list>
        </cell>
        <cell borders="left" spacers="left right">
          <checkbox name="withhistory" labeltid=".withhistory" onchange="onwithhistorychange" title="" />
          <button name="gototaskbutton" width="1pr" action="gototask" tid=".gototask" />
          <button width="1pr" action="details" tid=".details"/>
          <spacer height="1gr" />
          <button width="1pr" action="snooze" />
          <button width="1pr" action="unsnooze" />
        </cell>
      </grid>
      <panel name="mainpanel" borders="top" spacers="left bottom">
        <heading tid=".general" />
        <text name="txtServer" selectable="true" tid=".server" />
        <text name="buildinfo" selectable="true" />
        <text name="txtPlatform" selectable="true" tid=".platform" wordwrap="true" />
        <text name="txtDateTime" selectable="true" tid=".datetime" />
        <text name="txtUptime" selectable="true" tid=".uptime" />
      </panel>
    </body>
  </screen>

  <screen name="snooze" width="100x" footerbuttons="ok cancel">
    <body>
      <text name="messagetidatsnooze" width="1pr" wordwrap="true" />
      <datetime name="until" type="datetime" precision="minutes" required="true" storeutc="true" />
      <textarea name="comment" width="1pr" height="8x" required="true" />
    </body>
  </screen>

  <screen name="details" footerbuttons="close" allowresize="true">
    <compositions>
      <wrd:entity name="entity" wrdtype="server_check" />
    </compositions>
    <body>
      <datetime composition="entity" cellname="wrd_creationdate" tid=".since" storeutc="true" type="datetime" readonly="true"/>
      <datetime composition="entity" cellname="wrd_limitdate" tid=".stopped" storeutc="true" type="datetime" emptyvalue="max_datetime" readonly="true"/>
      <text composition="entity" cellname="message_text" wordwrap="true" width="1pr" minwidth="40x" tid=".message"/>
      <datetime composition="entity" cellname="snoozed_until" storeutc="true" type="datetime" readonly="true"/>
      <text name="lastsnoozedby" />
      <text name="lastsnoozemessage" wordwrap="true" width="1pr" />
      <textarea name="metadata" width="1pr" height="3gr" enabled="false" />
      <heading tid=".history"/>
      <list name="history" height="1pr" minheight="6gr" minwidth="70x">
        <column name="when" width="18x" storeutc="true" type="datetime" />
        <column name="event" width="10x" type="text" />
        <column name="message" width="1pr" type="text"/>
        <column name="wh_user" width="20x" type="text"/>
      </list>
    </body>
</screen>

</screens>
