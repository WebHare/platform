<screens xmlns="http://www.webhare.net/xmlns/tollium/screens"
         xmlns:s="http://www.webhare.net/xmlns/system/components"
         gid="tolliumapps.dashboard.apikeys"
         library="apikeys.whlib">

  <screen name="apikeys" width="130x" height="25x" allowresize="true" footerbuttons="ok cancel">
    <compositions>
      <s:registrynode name="maps" node="socialite.maps" />
    </compositions>

    <body spacers="none">
      <tabs height="1pr" savestate="selectedtab">
        <tab tid=".apitab">
          <listedit name="keys"
                    width="1pr"
                    height="1pr"
                    minwidth="80x"
                    minheight="5x"
                    emptytid=".nokeys"
                    ongetrows="getapikeys"
                    onrowdelete="deleteapikeys"
                    onrowedit="editapikey">
            <column name="creationdate" type="datetime" width="15x" precision="minutes" storeutc="true" tid="~creationdate" />
            <column name="api_type" type="text" width="1pr" />
            <column name="masks" type="text" width="1pr" />
            <column name="comment" type="text" width="3pr" tid="~comments" />
          </listedit>
        </tab>
        <tab spacers="none" tid=".maps">
          <panel height="1pr" spacers="all">
            <select composition="maps" cellname="defaultprovider" type="pulldown" flags="isleaflet isgooglemap">
              <option rowkey="leaflet" flags="isleaflet" />
              <option rowkey="googlemap" flags="isgooglemap" />
            </select>
          </panel>
          <tabs type="server">
            <tab>
              <visibleon checkflags="isgooglemap" source="maps.defaultprovider" />
              <statuspanel type="warning" borders="top">
                <text width="1pr" title="" valuetid=".googlemap-info" wordwrap="true" />
              </statuspanel>
            </tab>
          </tabs>
        </tab>
      </tabs>
    </body>
  </screen>

  <screen name="editapikey" minwidth="80x" footerbuttons="ok cancel">
    <compositions>
      <record name="api_secret" />
    </compositions>

    <body>
      <select composition="api_secret"
              cellname="api_type"
              name="api_type"
              type="radio"
              onchange="ontypechange">
      </select>
      <textarea composition="api_secret" cellname="masks" width="1pr" required="true" placeholdertid=".masks-placeholder"/>
      <textedit name="site_key" width="1pr" required="true" />
      <textedit name="api_key" width="1pr" required="true" />
      <textarea composition="api_secret" cellname="comment" width="1pr" tid="~comments" />
    </body>
  </screen>

</screens>
