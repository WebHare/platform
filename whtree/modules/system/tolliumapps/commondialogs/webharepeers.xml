<screens xmlns="http://www.webhare.net/xmlns/tollium/screens"
         library="webharepeers.whlib"
         xmlns:publisher="http://www.webhare.net/xmlns/publisher/components"
         xmlns:wrd="http://www.webhare.net/xmlns/wrd/components"
         gid="tolliumapps.commondialogs.webharepeers">

  <screen name="peerservers" allowresize="true" savestate="size" defaultbutton="connectbutton" width="120x" height="30x">
    <actions>
      <action name="connect" onexecute="doconnect">
        <enableon source="peers" min="1" max="1" />
      </action>
    </actions>
    <body>
      <wrd:entitiesedit name="peers" height="1pr" deletemode="delete" wrdtype="WHUSER_PEERSERVER" onentityedit="onpeeredit" openaction="connect">
        <column name="wrd_title" type="text" width="2pr" tid="~title" />
        <column name="serverurl" type="text" width="3pr" />
        <column name="lastuse" type="datetime" storeutc="true" precision="minutes" width="18x" />
      </wrd:entitiesedit>
    </body>
    <footer>
      <line layout="right">
        <button name="connectbutton" action="connect" tid="~connect" />
        <button tolliumresult="cancel" tid="~cancel" />
      </line>
    </footer>
  </screen>

  <screen name="addpeer">
    <actions>
      <windowopenaction name="connect" onwindowopen="onconnect" />
    </actions>
    <body>
      <line>
        <combobox name="peer" validationchecks="http-url" required="true" tid=".serverurl" defaultbutton="btn_connect" />
        <button name="btn_connect" action="connect" tid=".connect" />
      </line>
    </body>
    <footer>
      <defaultformbuttons buttons="cancel" />
    </footer>
  </screen>

  <screen name="editpeer" implementation="wrd:entityedit">
    <compositions>
      <wrd:entity name="entity" />
    </compositions>
    <body>
      <textedit composition="entity" cellname="serverurl" enabled="false" tid=".serverurl" />
      <textedit composition="entity" cellname="wrd_title" required="true" tid="~title" />
    </body>
    <footer>
      <defaultformbuttons buttons="ok cancel" />
    </footer>
  </screen>

  <screen name="reauthserver" width="55x">
    <actions>
      <windowopenaction name="authserver" onwindowopen="doauthserver" tid="~connect" />
    </actions>
    <body>
      <panel layout="left" spacers="bottom">
        <text valuetid=".mustreauthserver" wordwrap="true"/>
      </panel>
      <textedit name="url" enabled="false" width="1pr" tid=".serverurl" />
    </body>
    <footer>
      <line layout="right">
        <button action="authserver" />
        <button tid="~cancel" tolliumresult="cancel" />
      </line>
    </footer>
  </screen>

</screens>
