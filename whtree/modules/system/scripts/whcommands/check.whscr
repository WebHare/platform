<?wh
LOADLIB "wh::os.whlib";
LOADLIB "mod::system/lib/database.whlib";
LOADLIB "mod::system/lib/internal/checks/checker.whlib";
LOADLIB "mod::system/lib/internal/restart_reset.whlib";

Print(GetWHVersionInfo().versionname);

OBJECT db;
TRY db := OpenPrimary();
CATCH(OBJECT e)
{
  PrintTo(2," - The database is unavailable: " || e->what||"\n");
  SetConsoleExitCode(2);
  RETURN;
}

SetConsoleExitCode(PrintIssueOverview());
