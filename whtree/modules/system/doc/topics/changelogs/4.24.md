# 4.24 (2019-07-04)

## Incompatibilities and deprecations
- XML entity support has been disabled in %ParseXMLWithCallbacks and %ParseHTMLAsXMLWithCallbacks interfaces. It was already
  disabled elsewhere
- %DecodeValue now only decodes entities and doesn't attempt to strip HTML tags like %DecodeHTML does.
- %WebDesignBase::languagecode can no longer be set and will automatically follow the %GetTidLanguage language code
- %WebDesign::RenderWidgetInstance will now enforce the structure on instance data recursively. This may break if you
  use this function and weren't consistent in the data types you were passing to the widget.
- The `fallback` parameter of %ParseXSBoolean has been removed.
- Passing `TRUE` to %IsAbsoluteURL for the 'slash is root' option was confusing and is no longer supported. IsAbsoluteURL
  now always expects the second parameter to be `FALSE`. The parameter has been made optional and may be removed entirely
  in the future.
- Setting the designroot/imgroot pageconfig variables (common when converting old designs) triggers a lot of obscure bugs
  in webdesign.whlib (they will be used to build paths to assets). This will now be blocked.
- Screenshots are now generated by headless chrome instead of phantomjs. Phantomjs has been removed. Users of phantomjs.whlib
  should switch to %GenerateBrowserScreenshot - phantomjs.whlib will be removed in the future.
- The `defaultrequire` option for %CQParseUserQuery is replaced by a `querymode` option, which can have the values `"AND"` or
  `"OR"`. The default for `defaultrequire` was to do an OR search, but the default value for `querymode` is `"AND"`. If you
  still want to do OR searches, set the `querymode` option to `"OR"`. If the `defaultrequire` option was set to
  `require_required`, you can safely remove the `defaultrequire` option (it will be removed in a future version).
- %RunWittyTestDialog no longer supports the wkhtmltopdf engine
- The readonly WRD_SALUTATION field (only available in WRD_PERSON) has been removed
- %FormatAddress will now fixup zips in Dutch addreses, and properly insert two spaces between zip and city
- %FixupAddress will no longer clear invalid ZIP codes - they're either normalized or left alone

## Things you should do

## Things that are nice to know
- nodejs has been upgraded to version 12
- The DBA application has been added and allows you to directly update all database structures to match their moduledefinitions - this used to require (partial) soft resets
- `<textedit>` now has prefix and suffix properties to add readonly text around the input field
- Adds background support (`pdfbackground` field) to %RunWittyTestDialog
- The testframework will implicitly set the test user to the first defined user (removing the need for a lot of `testfw->SetTestUser("sysop")` calls)
- `WRDEntity::DuplicateEntity` to (recursively) clone existing entities
