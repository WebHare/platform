# 4.21 (2019-02-06)

## Incompatibilities and deprecations
- `__ATTRIBUTES__(UNKNOWNISERROR)` has been removed. You can use `STATIC OBJECTTYPE` (which mostly has the same effect) or
  simply remove the attribute.
- %GetCloneableEntityFields also removes the WRD_TAG from the clone, which makes more sense given its task (preparing for a new CreateEntity)
- Support for `?whs-download` and `?whs-download=` URLs has been removed. You'll need to use `<a download>` links from now on.
- 'allowwitty' and 'nowebdesign' fields for HTML files have been removed.
- moduledefinition `<dependency>` no longer accepts `requirerevision=`
- The WebForm API has been removed from the WebBrowser object (`->OpenForm`). You can just use DOM manipluation and `->SubmitForm`

## Things you should do


## Things that are nice to know
- New command line module dev tools: `wh module create` and `wh module createwebdesign`, replacing `?app=system:devools`
- Error pages now add `wh-errorpage` and `wh-errorpage-NNN` (with NNN being 404, 500, etc) classes to the `<html>` element
- Introducing a new option source `<fslibrary fslibrary="mylibrary" />`, which can be used in selects to show the contents of a
  library defined by `<setlibrary name="mylibrary">`.
- A `<setlibrary>`'s `<source>` can now have a path relative to the target object itself, instead of only relative to the
  target object's parent site. I.e. you can now specify `<source path="mydir" relativeto="targetobject" />` to point to the
  target object's `mydir` subdirectory if the target object is a folder, or to the directory `mydir` in the target object's
  parent folder if the target object is a file.
- Added 'QS' and 'QSA' members to the `WebBrowser` as a shorthand for `document->QuerySelector(All)`.
- Form input elements can set the attribute `data-wh-form-skipnativevalidation` to skip the HTML5 native validity checks
  allowing you to use your own validations and error messages.
- Various XML attributes which used `__MatchesAnyMask` switched to %MatchCommonXMLWildcardMasks, which allows excluding
  certain masks (eg `applicationmasks="* !mymodule:* mymodule:exceptmyapp"`)
- 7500 OO 296 can be entered into an address field to check with verification provider is configured
- Siteprofile `<wrd:addressvalidation>` can now refer to a wrdschema (but registry keys still take precedence)
- moduledefinition `<dependency>` can now declare a `requireversion=` which will be semver-matched against the remote server.
  If you use this version, be sure to also set at least `requireversion="42002"` on `<packaging>` (WebHares prior to 4.20.02
  do not accept 'requireversion' in module definitions).
