# 4.17

Version 4.17 covers all accepted MRs from 345 (April 23) to 517. See the merge requests for full information on what has been added - the list below may be incomplete.

## Incompatibilities and deprecations
- WebHare can no longer connect to 4.14 (or older) servers for module pushes/folder synchronization
- The publisher now autoselects the last selected folder when opened but no longer saves which folders you had open
- The WebHare docker image is now based on a Ubuntu 18.04 LTS image (and no longer on CentOS 7). This may have effect on the
  availability of some commands inside the image.
- The mysql odbc connector has been replaced with the mariadb connector. It should offer the same functionality, but driver
  connect strings may need to change.
- Switched arguments to IsArrayisSubSetOf to logical order, rename to logical names
- The blexdev_forum module has been removed
- Improved BEM-ifying of wrd auth plugins, renaming it to 'wh-wrdauth' instead of 'whplugin-wrdauth-'
- Removed a lot of long-time deprecations
  - Removed CreateCSVExportDialog
  - Removed about dialog
  - Removed GetPublisherversion
  - Removed some deprecated adhoccache invalidation functions
  - Removed legacy WHDB transaction setup functions
  - Removed GetFilenameFromPath (after 11 years of deprecation)
  - Removed some deprecated WRD apis (but not yet the mod::wrd/lib/objectapi.whlib !)
  - Removed publisher.sites, publisher.folders, publisher.files tables

## Things you should do
- Rename wrdschemas to `<module>:<schema>` and use titles for further information. Use `<schema originalname="..."/>` in module definitions to rename existing schemas
- `wh gdprscan` gives you an overview of wrdschemas and tables that you may have to check for personal data

## Things that are nice to know
- Forms now support address fields with zip-based completion for Dutch addresses
- applytester now has an `objtypens` specifying the namespace of the object (as string)
- You can now add custom actions to the userrights manager
- Property setters and getters now support hats
- Forms now add a `data-wh-form-group-for` to every fieldgroup div with the names of the contained elements, simplifying some CSS styling
- WRD Payment order numbers can now be configured in the WRD schemas settings
- Webtool form results can now be deleted
- Webtool form mail results can be wrapped in a template defined by the siteprofile (`<mailtemplate/>`)
- Added SelectFormFieldBase as an easier base class for your own formcomponents
- Add 'expect := folder/file/any' option to Open(WHFSObject)ByPath forcing them to throw with more detailed information about what they were missing.
- Add `<customfield>` to Forms for easier 'one-off' specialized fields without requiring XSDs
- Add `<optionsource>` to Tollium for easier 'one-off' generating options by invoking a function
- The Docker image allows you to override the temporary folder being used by setting the environment variable `WEBHARE_TEMP`
- Added BEM classes to all the actual input/textarea/select nodes in the forms rendering
- Add support for toplevel gid=s in `<siteprofile>`s

