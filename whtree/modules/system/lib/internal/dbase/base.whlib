<?wh

LOADLIB "mod::system/lib/internal/harescript/preload.whlib";


RECORD exceptions := [ requiresexplicit := "This command requires an explicitly opened transaction/work"
                     ];

/** @topic database/webharedb
    @public
    @loadlib mod::system/lib/database.whlib
*/
PUBLIC OBJECTTYPE WebhareDBException EXTEND Exception
<
  STRING type;

  MACRO NEW(STRING type, STRING text)
  : Exception(text = "" ? GetCell(exceptions, type) : text)
  {
    this->type := type;
  }

  BOOLEAN FUNCTION IsRequiresExplicitTransaction()
  {
    RETURN this->type="requiresexplicit";
  }

  BOOLEAN FUNCTION IsNoSuchName()
  {
    RETURN this->type="nosuch";
  }
>;
