<screens xmlns="http://www.webhare.net/xmlns/tollium/screens" gid="tolliumapps.shorturl.domains" library="domains.whlib">

  <screen name="selectdomain" width="120x" height="12gr" allowresize="true" flags="managedomains" footerbuttons="close">
    <actions>
      <action name="open" onexecute="submit" tid="~open">
        <enableon source="domains" min="1" max="1" />
      </action>
      <action name="add" frameflags="managedomains" onexecute="doadd" tid="~add" />
      <action name="edit" frameflags="managedomains" onexecute="doedit" tid="~edit">
        <enableon source="domains" min="1" max="1" />
      </action>
      <action name="delete" frameflags="managedomains" onexecute="dodelete" tid="~delete">
        <enableon source="domains" min="1" max="1" />
      </action>
    </actions>

    <body>
      <grid height="1pr">
        <cell width="1pr">
          <list name="domains"
                height="1pr"
                defaultbutton="openbutton"
                ongetrows="getdomains"
                openaction="open"
                selectmode="single">
            <column name="domain" type="text" width="1pr" />
            <column name="baseurl" type="text" width="2pr" />
          </list>
        </cell>
        <cell>
          <button name="openbutton" action="open" tid="~open" />
          <spacer height="1gr" />
          <button width="1pr" action="add" />
          <button width="1pr" action="edit" />
          <button width="1pr" action="delete" />
        </cell>
      </grid>
    </body>
  </screen>

  <screen name="domainprops" footerbuttons="ok cancel">
    <compositions>
      <record name="props" />
    </compositions>

    <body spacers="none">
      <tabs>
        <tab tid="~properties">
          <textedit composition="props" cellname="domain" width="1pr" required="true" />
          <textedit composition="props" cellname="baseurl" width="1pr" />
        </tab>
        <tab tid=".setvariables">
          <arrayedit composition="props"
                     cellname="setvariables"
                     name="setvariables"
                     width="1pr"
                     height="1pr"
                     minwidth="60x"
                     orderable="true"
                     roweditscreen="#setvariableprops">
            <column name="name" type="text" tid=".variablename" />
            <column name="value" type="text" tid=".variablevalue" />
          </arrayedit>
        </tab>
        <tab tid=".allowedurls">
          <arrayedit composition="props"
                     cellname="allowedurls"
                     name="allowedurls"
                     width="1pr"
                     height="1pr"
                     roweditscreen="#allowedurlprops">
            <column name="domain" type="text" tid=".domainmask" />
          </arrayedit>
        </tab>
      </tabs>
    </body>
  </screen>

  <screen name="setvariableprops" footerbuttons="ok cancel" implementation="rowedit">
    <compositions>
      <record name="row" />
    </compositions>

    <body>
      <textedit composition="row" cellname="name" width="1pr" required="true" tid=".variablename" />
      <textedit composition="row" cellname="value" width="1pr" tid=".variablevalue" />
    </body>
  </screen>

  <screen name="allowedurlprops" footerbuttons="ok cancel" implementation="rowedit">
    <compositions>
      <record name="row" />
    </compositions>

    <body>
      <textedit composition="row" cellname="domain" width="1pr" required="true" tid=".domainmask" />
    </body>
  </screen>

</screens>
