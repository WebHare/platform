<screens xmlns="http://www.webhare.net/xmlns/tollium/screens"
         xmlns:p="http://www.webhare.net/xmlns/publisher/components"
         gid="tolliumapps.filemanager.adaptivecontent"
         library="adaptivecontent.whlib">

  <screen name="beaconprops" footerbuttons="ok cancel" gid=".beaconprops" title="">
    <actions>
      <action name="viewreferences" onexecute="doviewreferences" />
    </actions>

    <compositions>
      <record name="beacon" />
    </compositions>

    <body>
      <textedit composition="beacon" cellname="title" required="true" />
      <line>
        <text name="references" />
        <text name="viewreferencestext" title="" valuetid=".viewreferences" action="viewreferences" />
      </line>
    </body>
  </screen>

  <screen name="slotprops" footerbuttons="ok cancel" gid=".slotprops">
    <compositions>
      <record name="slotdata" />
    </compositions>

    <body>
      <select composition="slotdata" cellname="type" name="type" type="pulldown" />
      <textedit composition="slotdata" cellname="title" width="1pr" required="true" tid="~title" />
    </body>
  </screen>

  <tabsextension name="slotwidgetextensions" gid=".conditions">
    <newtab tid=".conditionstab">
      <p:conditionedit composition="widgetsettings" cellname="condition">
        <p:conditiontype name="newvisitor" fragment="#newvisitorcondition" tid=".newvisitorcondition.name" />
        <p:conditiontype name="returningvisitor" fragment="#returningvisitorcondition" tid=".returningvisitorcondition.name" />
        <p:conditiontype name="beacon" fragment="#beaconcondition" tid=".beaconcondition.name" />
        <p:conditiontype name="visitafterdate" fragment="#visitdatecondition" tid=".visitdatecondition.name-after" />
        <p:conditiontype name="visitbeforedate" fragment="#visitdatecondition" tid=".visitdatecondition.name-before" />
      </p:conditionedit>
    </newtab>
  </tabsextension>

  <fragment name="newvisitorcondition" gid=".newvisitorcondition" implementation="p:conditiontype">
    <contents />
  </fragment>

  <fragment name="returningvisitorcondition" gid=".returningvisitorcondition" implementation="p:conditiontype">
    <contents />
  </fragment>

  <fragment name="beaconcondition" gid=".beaconcondition">
    <compositions>
      <record name="value" />
    </compositions>
    <contents>
      <line>
        <p:beacon composition="value" cellname="beacon" emptytid=".nobeacons" required="true" tid=".is" rowkeyfield="name" />
        <textedit composition="value" cellname="maxdays" width="10x" emptyvalue="0" suffixtid=".days" valuetype="integer" />
      </line>
    </contents>
  </fragment>

  <fragment name="visitdatecondition" gid=".visitdatecondition">
    <contents>
      <datetime name="date" type="datetime" precision="minutes" required="true" storeutc="true" title="" />
    </contents>
  </fragment>

  <screen name="references" height="20x" width="100x" allowresize="true" savestate="size" gid=".references">
    <actions>
      <action name="open" onexecute="doopen" >
        <enableon source="documents" min="1" max="1" />
      </action>
      <action name="refresh" onexecute="dorefresh" tid="~refresh" />
    </actions>
    <body>
      <grid height="1pr">
        <cell width="1pr">
          <list name="documents" selectmode="single" openaction="open" defaultbutton="openbutton">
            <column name="whfspath" type="text" />
            <column name="title" type="text" tid="~title" />
            <column name="url" type="url" />
          </list>
        </cell>
        <cell>
          <button name="openbutton" width="1pr" action="open" tid=".open" />
          <button width="1pr" action="refresh" />
        </cell>
      </grid>
    </body>
    <footer>
      <defaultformbuttons buttons="close" />
    </footer>
  </screen>

</screens>
