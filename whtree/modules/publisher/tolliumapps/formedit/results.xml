<screens xmlns="http://www.webhare.net/xmlns/tollium/screens" gid="tolliumapps.formedit.results" library="results.whlib">

  <screen name="results" width="120x" height="40x" allowresize="true" flags="issupervisor canedit" savestate="size">
    <actions>
      <action name="exportresults" onexecute="doexportresults" tid="~export" />
      <action name="exportresultswithattachments" onexecute="DoExportResultsWithAttachments" />
      <downloadaction name="exportresultsformigration" ondownload="DoExportResultsForMigration" />
      <uploadaction name="importresultsfrommigration" onupload="DoImportResultsFromMigration" />
      <action name="showresult" onexecute="doshowresult" tid="~open">
        <enableon source="results" min="1" max="1" />
      </action>
      <action name="inspect" frameflags="issupervisor" onexecute="doinspect" tid="~inspect">
        <enableon source="results" min="1" max="1" />
      </action>
      <action name="delete" frameflags="canedit" tid="~delete">
        <enableon source="results" min="1" onexecute="dodeleteresult" />
      </action>
      <action name="deleteallresults" frameflags="canedit" onexecute="dodeleteallresults" tid="~deleteall" />
    </actions>

    <menus>
      <menu name="resultsmenu">
        <item action="showresult" />
        <item name="test" />
        <item action="inspect" />
        <divider />
        <item action="delete" />
      </menu>
    </menus>

    <compositions>
      <eventlistener name="eventlistener" onevents="onnewresults" />
    </compositions>

    <body>
      <grid height="1pr">
        <cell width="1pr">
          <list name="results"
                emptytid=".noresults"
                icons="tollium:buttonbar/plus tollium:buttonbar/minus"
                openaction="showresult"
                selectcontextmenu="resultsmenu"
                selectmode="multiple"
                sortascending="false"
                sortcolumn="when">
            <style name="pending" textcolor="#888888" />
            <style name="expired" textcolor="#888888" />

            <!-- Columns are inserted dynamically -->
          </list>
        </cell>
        <cell>
          <button width="1pr" action="showresult" />
          <button width="1pr" action="delete" />
          <spacer height="1gr" />
          <button width="1pr" action="exportresults" />
          <button width="1pr" action="exportresultswithattachments" />
          <spacer height="1gr" />
          <button name="migrationexportbutton"
                  width="1pr"
                  action="exportresultsformigration"
                  tid=".exportresultsformigration" />
          <button name="migrationimportbutton"
                  width="1pr"
                  action="importresultsfrommigration"
                  tid=".importresultsfrommigration" />
          <spacer height="1pr" />
          <button width="1pr" action="deleteallresults" />
          <line layout="right">
            <text name="numresults" />
          </line>
        </cell>
      </grid>
    </body>

    <footer>
      <grid width="1pr">
        <cell width="1pr">
          <line>
            <checkbox name="showpendingresults" labeltid=".showpendingresults" onchange="onshowpendingresults" title="" />
            <spacer name="showpendingspacer" width="1x" />
            <checkbox name="showexpiredresults" labeltid=".showexpiredresults" onchange="onshowexpiredresults" title="" />
          </line>
        </cell>
        <cell>
          <defaultformbuttons buttons="close" />
        </cell>
      </grid>
    </footer>
  </screen>

  <screen name="singleresult" width="75x" height="30x" allowresize="true" footerbuttons="close">
    <body name="fields" vscroll="true">
      <!-- Fields are inserted dynamically -->
    </body>
  </screen>

  <screen name="confirmdeleteall" gid=".confirmdeleteall">
    <actions>
      <action name="yes" onexecute="submit" tid="~yes">
        <enableon source="deleteall" min="1" />
      </action>
    </actions>

    <body layout="left">
      <text name="confirmdeleteallresults" title="" />
      <checkbox name="deleteall" labeltid=".yesdeleteall" title="" />
    </body>

    <footer>
      <line layout="right">
        <button action="yes" />
        <button tid="~no" tolliumresult="no" />
      </line>
    </footer>
  </screen>

</screens>
