<schemadefinition xmlns="http://www.webhare.net/xmlns/wrd/schemadefinition">

  <object tag="TOPIC" title="Topic">
    <attributes>
      <free tag="WRD_TITLE" title="Title" />
      <free tag="WRD_TAG" title="Tag" />
      <integer tag="WRD_ORDERING" title="Ordering" />
      <domain tag="DEFAULT_PRIORITY" domain="PRIORITY" title="Default priority" />
      <domainmultiple tag="ALLOWED_PRIORITIES" domain="PRIORITY" title="Allowed priorities" />
    </attributes>
  </object>

  <object tag="PRIORITY" title="Priority">
    <attributes>
      <free tag="WRD_TITLE" title="Title" />
      <integer tag="WRD_ORDERING" title="Ordering" />
    </attributes>
  </object>

  <attachment tag="FEEDBACK" linkfrom="SCOPE" title="Feedback">
    <attributes>
      <!-- Currently 2 -->
      <integer tag="VERSION" title="Version" />

      <!-- Feedback tracking id, eg FB1234 -->
      <free tag="FEEDBACKID" required="true" title="Feedback id" unique="true" />
      <domain tag="TOPIC" domain="TOPIC" title="Feedback topic" />

      <!--
        RECORD ARRAY htmlattrs
          STRING name
          STRING  alue
        STRING ARRAY stylesheets
        RECORD ARRAY bodyattrs
          STRING name
          STRING value
        STRING bodycontents (the 'innerHTML' of the <body> node)
      -->
      <record tag="SCREENSHOT" title="Screenshot HTML data" />

      <!--
        Browser viewport size
        INTEGER width
        INTEGER height
      -->
      <record tag="SIZE" title="Browser window size" />

      <!--
        The selected element bounding box
        INTEGER top
        INTEGER left
        INTEGER width
        INTEGER height
      -->
      <record tag="ELEMENT" title="Clicked element's size and position" />
      <free tag="BROWSER" title="Browser triplet" />
      <free tag="DEVICE" title="Browser device" />
      <free tag="USERAGENT" title="Browser user agent" />
      <free tag="URL" title="The URL the screenshot was taken of" />
      <free tag="REMARKS" title="User comment" />
      <enum tag="STATUS"
            allowedvalues="creating new assigned escalated closed resolved"
            gid="tolliumapps.feedback.types"
            required="true"
            title="Feedback status" />

      <!--
        When a logged in user is recognized, the result of GetUserDataForLogging
      -->
      <record tag="USERDATA" title="User data" />
      <record tag="EXTRADATA" title="Extra data supplied by the user" />
      <array tag="APPVERSIONS" title="WebHare and installed module versions">
        <free tag="name"
              description="The described item, currently 'webhare' or an installed module"
              required="true"
              title="Module/item name" />
        <free tag="version" description="The (hopefully) semantic version" title="Item version" />
      </array>

      <!-- No longer used -->
      <domain tag="TYPE" domain="FEEDBACKTYPE" />
    </attributes>
  </attachment>

  <attachment tag="LOG" linkfrom="FEEDBACK">
    <attributes>
      <enum tag="STATUSCHANGE" allowedvalues="new assigned escalated closed resolved" gid="tolliumapps.feedback.types" />
      <free tag="TEXT" />
      <record tag="WEBHAREUSER" required="true" />
    </attributes>
  </attachment>

  <!-- No longer used -->
  <object tag="SCOPE" title="Scope" />

  <attachment tag="FEEDBACKTYPE" linkfrom="SCOPE">
    <attributes>
      <integer tag="WRD_ORDERING" />
      <free tag="ROWKEY" />
      <free tag="WRD_TITLE" />
    </attributes>
  </attachment>

</schemadefinition>
