<siteprofile xmlns="http://www.webhare.net/xmlns/publisher/siteprofile" gid="siteprofile.contentlibraries">

  <!-- adaptive content slots (folder of slots) -->
  <foldertype namespace="http://www.webhare.net/xmlns/publisher/adaptivecontent/slots" tid=".slots" icon="tollium:objects/slots">
    <foldersettings>
      <contentslisthandler objectname="/tolliumapps/filemanager/adaptivecontent.whlib#SlotsFolderContents" />
    </foldersettings>
  </foldertype>

  <!-- add condition columns to slot widgets  -->
  <apply>
    <to type="folder" parenttype="http://www.webhare.net/xmlns/publisher/adaptivecontent/slots"/>
    <foldersettings>
      <contentslisthandler objectname="/tolliumapps/filemanager/adaptivecontent.whlib#SlotFolderContents" />
    </foldersettings>
  </apply>

  <!-- check for slot republishing if a slot or widget changes -->
  <apply>
    <to type="all" withintype="http://www.webhare.net/xmlns/publisher/adaptivecontent/slots"/>
    <scheduletimedtask task="publisher:updateslots"/>
  </apply>

  <!-- slottedwidget properties -->
  <contenttype namespace="http://www.webhare.net/xmlns/publisher/adaptivecontent/slottedwidget">
    <record name="condition" />
  </contenttype>

  <foldertype namespace="http://www.webhare.net/xmlns/publisher/adaptivecontent/beacons" tid=".beacons"  icon="tollium:folders/beaconfolder">
    <foldersettings>
      <contentslisthandler objectname="/tolliumapps/filemanager/adaptivecontent.whlib#BeaconsFolderContents" />
    </foldersettings>
  </foldertype>

  <apply priority="10">
    <to type="all" parenttype="http://www.webhare.net/xmlns/publisher/adaptivecontent/beacons" />
    <denyfoldertype typedef="*" />
    <denyfiletype typedef="*" />
    <allowfiletype typedef="http://www.webhare.net/xmlns/publisher/adaptivecontent/beacon" />
  </apply>

  <!-- beacon file type -->
  <filetype namespace="http://www.webhare.net/xmlns/publisher/adaptivecontent/beacon" kind="datafile" tid=".beacon" icon="tollium:objects/beacon">
    <members>
      <string name="guid" />
    </members>
    <setobjecteditor name="publisher:adaptivecontent_beacon" />
  </filetype>

</siteprofile>
