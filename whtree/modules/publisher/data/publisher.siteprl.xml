<siteprofile xmlns="http://www.webhare.net/xmlns/publisher/siteprofile">

  <!--

      This is the publisher base site profile. It always applies and
      is parsed before any global or site local profile

  -->
  <rtdtype namespace="http://www.webhare.net/xmlns/publisher/defaultrtdtype">
    <blockstyles defaultstyle="NORMAL">
      <textstyle tag="HEADING1" textstyles="i u" />
      <textstyle tag="HEADING2" textstyles="i u" />
      <textstyle tag="HEADING3" textstyles="i u" />
      <textstyle tag="NORMAL" textstyles="b i u a-href img sup sub strike" />
      <textstyle tag="UNORDERED" containertag="ul" textstyles="b i u a-href img sup sub strike" />
      <textstyle tag="ORDERED" containertag="ol" textstyles="b i u a-href img sup sub strike" />
      <tablestyle tag="TABLE" />
    </blockstyles>
  </rtdtype>

  <rtdtype namespace="http://www.webhare.net/xmlns/publisher/defaultmailrtdtype">
    <css path="siteprofiles/defaultmailrtdtype.css" />
    <blockstyles defaultstyle="NORMAL">
      <textstyle tag="NORMAL" textstyles="b i u a-href img sup sub strike" />
      <textstyle tag="ORDERED" containertag="ol" textstyles="b i u a-href img sup sub strike" />
      <textstyle tag="UNORDERED" containertag="ul" textstyles="b i u a-href img sup sub strike" />
    </blockstyles>
    <widgets ignoresiteprofilewidgets="true" />  <!-- we never want siteprofile widgets available in emails.. they are generally not suited -->
  </rtdtype>

  <contenttype namespace="http://www.webhare.net/xmlns/publisher/errorinfo" cloneoncopy="false">
    <array name="messages">
      <integer name="type" />
      <integer name="line" />
      <integer name="col" />
      <whfsref name="file" />
      <string name="filename" />
      <integer name="code" />
      <string name="param1" />
      <string name="param2" />
    </array>
    <array name="trace">
      <integer name="line" />
      <integer name="col" />
      <whfsref name="file" />
      <string name="filename" />
      <string name="func" />
    </array>
  </contenttype>

  <foldertype namespace="http://www.webhare.net/xmlns/publisher/normalfolder"
              comment="Define the special '0' types"
              icon="tollium:folders/normal"
              tid="publisher:terminology.types.normalfolder" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/unknownfile"
            kind="rawfile"
            icon="tollium:files/application_x-webhare-unknown"
            requirescontent="true"
            tid="publisher:terminology.types.unknownfile" />

  <!-- Define the publisher folder types
  -->
  <!-- Editor for photoalbum settings -->
  <tabsextension xmlns="http://www.webhare.net/xmlns/tollium/screens" name="photoalbum_settings">
    <newtab gid="publisher:foldertypes.photoalbum-settings" tid=".tabtitle">
      <line>
        <textedit composition="contentdata" cellname="rows" width="5x" emptyvalue="0" placeholder="5" tid=".indexpage" />
        <text valuetid=".rows" />
        <textedit composition="contentdata" cellname="columns" width="5x" emptyvalue="0" placeholder="5" />
        <text valuetid=".columns" />
      </line>
      <line>
        <textedit composition="contentdata"
                  cellname="picturewidth"
                  width="6x"
                  emptyvalue="0"
                  placeholder="600"
                  tid=".picturewidth"
                  valuetype="integer" />
        <text valuetid=".pixels" />
      </line>
      <line>
        <textedit composition="contentdata"
                  cellname="pictureheight"
                  width="6x"
                  emptyvalue="0"
                  placeholder="600"
                  tid=".pictureheight"
                  valuetype="integer" />
        <text valuetid=".pixels" />
      </line>
      <line>
        <textedit composition="contentdata"
                  cellname="thumbnailwidth"
                  width="6x"
                  emptyvalue="0"
                  placeholder="100"
                  tid=".thumbnailwidth"
                  valuetype="integer" />
        <text valuetid=".pixels" />
      </line>
      <line>
        <textedit composition="contentdata"
                  cellname="thumbnailheight"
                  width="6x"
                  emptyvalue="0"
                  placeholder="100"
                  tid=".thumbnailheight"
                  valuetype="integer" />
        <text valuetid=".pixels" />
      </line>
      <line layout="left">
        <checkbox composition="contentdata" cellname="publishoriginals" labeltid=".publishoriginals" title="" />
      </line>
    </newtab>
  </tabsextension>

  <contenttype namespace="http://www.webhare.net/xmlns/publisher/dbpublication"
               cloneoncopy="false"
               comment="DBfile publishing">
    <array name="dbfiles">
      <string name="filename" />
      <file name="data" />
    </array>
  </contenttype>

  <foldertype namespace="http://www.webhare.net/xmlns/publisher/foreignfolder"
              icon="tollium:folders/locked"
              indexfile="none"
              tid="publisher:foldertypes.foreign" />

  <foldertype namespace="http://www.webhare.net/xmlns/publisher/systemfolder"
              icon="tollium:folders/system"
              indexfile="none"
              tid="publisher:foldertypes.system" />

  <foldertype namespace="http://www.webhare.net/xmlns/publisher/photoalbum"
              icon="tollium:folders/photoalbum"
              indexfile="contentlisting"
              protectindexfile="true"
              tid="publisher:foldertypes.photoalbum">
    <members>
      <string name="rows" />
      <string name="columns" />
      <integer name="picturewidth" />
      <integer name="pictureheight" />
      <integer name="thumbnailwidth" />
      <integer name="thumbnailheight" />
      <boolean name="publishoriginals" />
    </members>
    <extendproperties extension="#photoalbum_settings" />
  </foldertype>

  <foldertype namespace="http://www.webhare.net/xmlns/publisher/tagfolder"
              icon="tollium:folders/tag"
              indexfile="none"
              tid="publisher:foldertypes.tagfolder" />

  <contenttype namespace="http://www.webhare.net/xmlns/publisher/previewinfo" cloneoncopy="false">
    <datetime name="previewmodificationdate" />
    <file name="previewimage" />
  </contenttype>

  <!-- Define the publisher file types
  -->
  <contenttype namespace="http://www.webhare.net/xmlns/publisher/taginfo" comment="Tag meta for files:">
    <whfsrefarray name="tags" />
  </contenttype>

  <filetype namespace="http://www.webhare.net/xmlns/publisher/mswordfile"
            kind="rawfile"
            extensions=".doc"
            icon="tollium:files/application_msword"
            isacceptableindex="true"
            ispublishedassubdir="true"
            needstemplate="true"
            requirescontent="true"
            searchcontentprovider="publisher:contentblob"
            tid="publisher:filetypes.msword">
    <bodyrenderer objectname="mod::publisher/lib/internal/renderers/msword.whlib#RenderMSWordFile" />
  </filetype>

  <filetype namespace="http://www.webhare.net/xmlns/publisher/htmlfile"
            kind="rawfile"
            extensions=".html .htm"
            icon="tollium:files/text_html"
            isacceptableindex="true"
            needstemplate="true"
            searchcontentprovider="publisher:contentblob"
            tid="publisher:filetypes.html">
    <setobjecteditor name="publisher:texteditor" />
    <bodyrenderer objectname="mod::publisher/lib/internal/renderers/htmlfile.whlib#StaticHTMLFile" />
  </filetype>

  <filetype namespace="http://www.webhare.net/xmlns/publisher/javascriptfile"
            kind="rawfile"
            extensions=".js"
            icon="tollium:files/application_x-javascript"
            searchcontentprovider="publisher:contentblob"
            tid="publisher:filetypes.javascript" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/semidynamicfile"
            blobiscontent="true"
            extensions=".html .htm .shtml"
            icon="tollium:files/application_x-webhare-semidynamic"
            isacceptableindex="true"
            ispublishable="true"
            needstemplate="true"
            tid="publisher:filetypes.semidynamic" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/cssfile"
            kind="rawfile"
            extensions=".css"
            icon="tollium:files/text_css"
            searchcontentprovider="publisher:contentblob"
            tid="publisher:filetypes.css" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/targzfile"
            kind="rawfile"
            extensions=".tar.gz"
            icon="tollium:files/application_x-gzip"
            requirescontent="true"
            tid="publisher:filetypes.targz" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/pdffile"
            kind="rawfile"
            browserpreview="/.publisher/backend/preview/direct.shtml"
            extensions=".pdf"
            icon="tollium:files/application_pdf"
            requirescontent="true"
            searchcontentprovider="publisher:contentblob"
            tid="publisher:filetypes.pdf" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/imagefile"
            kind="rawfile"
            browserpreview="/.publisher/backend/preview/image.shtml"
            icon="tollium:files/image"
            requirescontent="true"
            tid="publisher:filetypes.image" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/multimediafile"
            kind="rawfile"
            comment="The multimedia file type uses the 'video' icon as we don't have a general 'multimedia' icon"
            icon="tollium:files/video"
            requirescontent="true"
            tid="publisher:filetypes.multimedia" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/zipfile"
            kind="rawfile"
            extensions=".zip"
            icon="tollium:files/application_zip"
            requirescontent="true"
            tid="publisher:filetypes.zip" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/webharearchivefile"
            blobiscontent="true"
            extensions=".wharchive"
            icon="tollium:files/application_wharchive"
            requirescontent="true"
            tid="publisher:filetypes.webharearchive" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/archivefile"
            kind="rawfile"
            comment="The archive file type uses the 'application/zip' icon as we don't have a general 'archive' icon"
            icon="tollium:files/application_zip"
            requirescontent="true"
            tid="publisher:filetypes.archive" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/libraryfile"
            blobiscontent="true"
            extensions=".whlib"
            icon="tollium:files/application_x-webhare-library"
            searchcontentprovider="publisher:contentblob"
            tid="publisher:filetypes.library" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/externallink"
            blobiscontent="false"
            icon="tollium:files/application_x-webhare-externallink"
            isacceptableindex="true"
            ispublishable="true"
            ispublishedassubdir="true"
            tid="publisher:filetypes.externallink">
    <usepublishtemplate script="mod::publisher/scripts/internal/publishlink.whscr" />
  </filetype>

  <filetype namespace="http://www.webhare.net/xmlns/publisher/internallink"
            blobiscontent="false"
            icon="tollium:files/application_x-webhare-internallink"
            isacceptableindex="true"
            ispublishable="true"
            ispublishedassubdir="true"
            tid="publisher:filetypes.internallink">
    <usepublishtemplate script="mod::publisher/scripts/internal/publishlink.whscr" />
  </filetype>

  <filetype namespace="http://www.webhare.net/xmlns/publisher/contentlink"
            blobiscontent="false"
            extensions=".whlink"
            icon="tollium:files/application_x-webhare-contentlink"
            ispublishable="true"
            needstemplate="true"
            tid="publisher:filetypes.contentlink" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/plaintextfile"
            kind="rawfile"
            extensions=".txt"
            icon="tollium:files/text_plain"
            searchcontentprovider="publisher:contentblob"
            tid="publisher:filetypes.plaintext" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/xmlfile"
            kind="rawfile"
            extensions=".xml"
            icon="tollium:files/text_xml"
            searchcontentprovider="publisher:contentblob"
            tid="publisher:filetypes.xml" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/contentlisting"
            blobiscontent="false"
            extensions=".html .htm"
            icon="tollium:files/application_x-webhare-contentlisting"
            isacceptableindex="true"
            ispublishable="true"
            needstemplate="true"
            tid="publisher:filetypes.contentlisting" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/shtmlfile"
            kind="rawfile"
            extensions=".shtml"
            icon="tollium:files/application_x-webhare-whscript"
            isacceptableindex="true"
            searchcontentprovider="publisher:contentblob"
            tid="publisher:filetypes.shtml" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/shtmlwithdesignfile"
            blobiscontent="true"
            extensions=".shtml"
            icon="tollium:files/application_x-webhare-whscript"
            isacceptableindex="true"
            ispublishable="true"
            needstemplate="true"
            searchcontentprovider="publisher:contentblob"
            tid="publisher:filetypes.shtmlwithdesign" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/wittyfile"
            blobiscontent="true"
            extensions=".witty"
            icon="tollium:files/application_x-webhare-witty"
            searchcontentprovider="publisher:contentblob"
            tid="publisher:filetypes.witty" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/templatefile"
            blobiscontent="true"
            extensions=".tpl"
            icon="tollium:files/application_x-webhare-template"
            searchcontentprovider="publisher:contentblob"
            tid="publisher:filetypes.template" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/profilefile"
            blobiscontent="true"
            extensions=".prl"
            icon="tollium:files/application_x-webhare-profile"
            searchcontentprovider="publisher:contentblob"
            tid="publisher:filetypes.profile" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/mp3audiofile"
            kind="rawfile"
            icon="tollium:files/audio"
            requirescontent="true"
            tid="publisher:filetypes.mp3audiofile" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/richdocumentfile"
            kind="virtualfile"
            extensions=".rtd"
            icon="tollium:files/application_x-webhare-richdocument"
            initialpublish="false"
            searchcontentprovider="publisher:rtd"
            tid="publisher:filetypes.richdocumentfile">
    <members>
      <file name="original" />
      <richdocument name="data" />
    </members>
    <setobjecteditor name="publisher:editdocument" />
    <bodyrenderer objectname="mod::publisher/lib/internal/renderers/rtd.whlib#RenderRTD" />
  </filetype>

  <filetype namespace="http://www.webhare.net/xmlns/publisher/markdownfile"
            kind="virtualfile"
            icon="tollium:files/text_plain"
            searchcontentprovider="publisher:markdown"
            tid="publisher:filetypes.markdownfile">
    <members>
      <composeddocument name="data" />
    </members>
    <setobjecteditor name="publisher:editmarkdown" separateapp="true" />
    <bodyrenderer renderer="mod::publisher/js/internal/markdown.ts#renderMarkdown" />
  </filetype>

  <filetype namespace="http://www.webhare.net/xmlns/publisher/msworddownload"
            kind="rawfile"
            extensions=".doc"
            icon="tollium:files/application_msword"
            requirescontent="true"
            searchcontentprovider="publisher:contentblob"
            tid="publisher:filetypes.msworddownload" />

  <filetype namespace="http://www.webhare.net/xmlns/publisher/dynamicfoldercontents"
            blobiscontent="false"
            extensions=".shtml"
            icon="tollium:files/application_x-webhare-contentlisting"
            isacceptableindex="true"
            ispublishable="true"
            tid="publisher:filetypes.dynamicfoldercontents" />

  <filetype namespace="http://www.webhare.net/xmlns/wrd/instancefile"
            kind="datafile"
            tid="publisher:filetypes.wrdinstancefile">
    <members>
      <instance name="instance" />
    </members>
  </filetype>

  <filetype namespace="http://www.webhare.net/xmlns/publisher/tagfile"
            kind="datafile"
            icon="tollium:files/application_x-webhare-tag"
            tid="publisher:filetypes.tagfile">
    <members>
      <whfsrefarray name="belongstorepos" />
    </members>
  </filetype>

  <filetype namespace="http://www.webhare.net/xmlns/publisher/tagrepository"
            kind="datafile"
            icon="tollium:folders/repository"
            tid="publisher:filetypes.tagrepository">
    <members>
      <whfsrefarray name="tags" />
    </members>
  </filetype>

  <contenttype namespace="http://www.webhare.net/xmlns/publisher/reports/publishstatus" cloneoncopy="false">
    <boolean name="show_publishing" />
    <boolean name="show_warnings" />
    <boolean name="show_puberrors" />
    <boolean name="show_ioerrors" />
    <boolean name="show_aborted" />
    <boolean name="show_errors" />
    <string name="sorting" />
  </contenttype>

  <contenttype namespace="http://www.webhare.net/xmlns/publisher/reports/sitesummary" cloneoncopy="false">
    <boolean name="show_filecount" />
    <boolean name="show_foldercount" />
    <boolean name="show_inputsizes" />
    <boolean name="show_outputsizes" />
    <boolean name="show_publishstatus" />
    <boolean name="show_linkstatus" />
  </contenttype>

  <contenttype namespace="http://www.webhare.net/xmlns/publisher/seosettings">
    <boolean name="noindex" />
    <boolean name="nofollow" />
    <boolean name="noarchive" />
    <string name="customrobots" />
    <whfsref name="canonical" />
    <string name="comments" />
    <string name="seotitle" />
  </contenttype>

  <contenttype namespace="http://www.webhare.net/xmlns/publisher/sitesettings">
    <string name="sitedesign" />
    <stringarray name="webfeatures" />
    <string name="comments" />
    <string name="productionurl" />
  </contenttype>

  <contenttype namespace="http://www.webhare.net/xmlns/publisher/draftmetadata">
    <whfsref name="parent" />
    <string name="name" />
    <integer name="flags" />

    <!-- Bitmask 1: published
         BitMask 6: 2: make this the index, 4: make sure this won't be the index
    -->
  </contenttype>

  <contenttype namespace="http://www.webhare.net/xmlns/publisher/version" cloneoncopy="false" comment="Version metata">
    <string name="version" comment="'publish.draft' version number. first version is 0.1, first published version is 1.0" />
    <record name="editor" comment="webhare user who saved this draft or the last draft leading up to this final version" />
    <record name="publisher" comment="webhare user who first published this version (ie approved the draft)" />
    <datetime name="published" comment="when this version was first published" />
  </contenttype>

  <contenttype namespace="http://www.webhare.net/xmlns/publisher/lifecycle" comment="Lifecycle management">
    <datetime name="deletion" comment="When to delete this file. PERMANENT!" />
  </contenttype>

  <contenttype namespace="http://www.webhare.net/xmlns/publisher/savedurlhistory"
               comment="URLHistory save - saves URL history and other related data for recovery before migrating between servers">
    <datetime name="creationdate" />
    <datetime name="modificationdate" />
    <datetime name="firstpublishdate" />
    <datetime name="contentmodificationdate" />
    <integer name="originalid" />
    <integer name="modifiedby" />
    <string name="path" />
    <string name="targetpath" />
    <string name="objecturl" />
    <array name="urlhistory">
      <datetime name="creationdate" />
      <string name="url" />
    </array>
  </contenttype>

  <apply>
    <to type="all" />

    <!-- Republish the index of a folder when a file changes -->
    <republish indexonly="true" />

    <!-- Allow all WebHare file and folder types by default -->
    <allowfoldertype typemask="http://www.webhare.net/xmlns/publisher/normalfolder" />
    <allowfoldertype typemask="http://www.webhare.net/xmlns/publisher/systemfolder" />
    <allowfiletype typemask="http://www.webhare.net/xmlns/publisher/*" />

    <!-- These are seldom used -->
    <denyfiletype typemask="http://www.webhare.net/xmlns/publisher/richdocumentfile" />
    <denyfiletype typemask="http://www.webhare.net/xmlns/publisher/tagfile" />
    <denyfiletype typemask="http://www.webhare.net/xmlns/publisher/tagrepository" />
    <denyfiletype typemask="http://www.webhare.net/xmlns/publisher/profilefile" />

    <!-- Disable for now, until we make this feature public -->
    <denyfiletype typemask="http://www.webhare.net/xmlns/publisher/formwebtool" />
    <denyfiletype typemask="http://www.webhare.net/xmlns/publisher/formwidget" />
    <extendproperties extension="mod::publisher/tolliumapps/objectprops/extensions.xml#lifecycle"
                      contenttype="http://www.webhare.net/xmlns/publisher/lifecycle"
                      requireright="system:supervisor" />
  </apply>

  <apply>
    <to type="all" sitemask="?*" />  <!-- limited to  sites -->
    <allowfoldertype typemask="http://www.webhare.net/xmlns/publisher/photoalbum" />
    <allowfoldertype typemask="http://www.webhare.net/xmlns/publisher/foreignfolder" />
  </apply>

  <apply>
    <to type="folder" />

    <!-- Republish the index of the parent folder when a folder changes -->
    <republish folder=".." indexonly="true" />

    <!-- To ensure backwards compatibility, we don't specify default folderindex here. If it would be specified here, there
         would be no way to determine if a site uses the old site settings or the new site profile settings. New sites
         MUST use a site profile to get a default index placed in new folders. -->
  </apply>

  <apply>
    <to type="folder" sitename="Repository" />

    <!-- Don't add an index file to new folders in the Repository -->
    <folderindex indexfile="none" />
  </apply>

  <apply comment="enable texteditors">
    <to type="file" filetype="http://www.webhare.net/xmlns/publisher/javascriptfile" />
    <to type="file" filetype="http://www.webhare.net/xmlns/publisher/semidynamicfile" />
    <to type="file" filetype="http://www.webhare.net/xmlns/publisher/cssfile" />
    <to type="file" filetype="http://www.webhare.net/xmlns/publisher/libraryfile" />
    <to type="file" filetype="http://www.webhare.net/xmlns/publisher/plaintextfile" />
    <to type="file" filetype="http://www.webhare.net/xmlns/publisher/standalonetemplatefile" />
    <to type="file" filetype="http://www.webhare.net/xmlns/publisher/xmlfile" />
    <to type="file" filetype="http://www.webhare.net/xmlns/publisher/shtmlfile" />
    <to type="file" filetype="http://www.webhare.net/xmlns/publisher/shtmlwithdesignfile" />
    <to type="file" filetype="http://www.webhare.net/xmlns/publisher/wittyfile" />
    <to type="file" filetype="http://www.webhare.net/xmlns/publisher/templatefile" />
    <setobjecteditor name="publisher:texteditor" />
  </apply>

  <apply>
    <to type="file"
        filetype="http://www.webhare.net/xmlns/publisher/contentlisting"
        parenttype="http://www.webhare.net/xmlns/publisher/photoalbum" />
    <bodyrenderer objectname="mod::publisher/lib/widgets/gallerywidget.whlib#RenderGalleryWidgetPage" />
  </apply>

  <apply priority="-1000">
    <!-- set up global defaults -->
    <to type="all" />
    <rtddoc rtdtype="http://www.webhare.net/xmlns/publisher/defaultrtdtype" />
    <formintegration mailrtdtype="http://www.webhare.net/xmlns/publisher/defaultmailrtdtype" />

    <!-- By default, allow all questions and handlers that don't require extra configuration or JS help
         NOTE: this list *should* have contained imgedit and fileedit too as they require JS support
         -->
    <allowformquestion type="http://www.webhare.net/xmlns/publisher/forms#*" />
    <denyformquestion type="http://www.webhare.net/xmlns/publisher/forms#address" />
    <denyformquestion type="http://www.webhare.net/xmlns/publisher/forms#password" />
    <denyformquestion type="http://www.webhare.net/xmlns/publisher/forms#rtd" />
    <denyformquestion type="http://www.webhare.net/xmlns/publisher/forms#captcha" />
    <denyformquestion type="http://www.webhare.net/xmlns/publisher/forms#array" />
    <denyformquestion type="http://www.webhare.net/xmlns/publisher/forms#hidden" />
    <allowformhandler type="http://www.webhare.net/xmlns/publisher/forms#*" />
    <denyformhandler type="http://www.webhare.net/xmlns/publisher/forms#mailconfirmationhandler" />
    <allowformrtdtype type="http://www.webhare.net/xmlns/publisher/rtdfielddefaulttype" />
  </apply>

  <contenttype namespace="http://www.webhare.net/xmlns/publisher/sharedblocks" comment="Sharedblocks">
    <integer name="overridetype" comment="0 = inherit from parent, 1 = don't show any blocks, 2 = set specific blocks" />
    <boolean name="overridefromparent"
             comment="Old, but remaining for a little while to be able to make convert scripts if needed" />
    <array name="blocks">
      <whfsref name="block" />
    </array>
  </contenttype>

  <apply>
    <to type="folder" foldertype="http://www.webhare.net/xmlns/publisher/systemfolder" />
    <to type="folder" foldertype="http://www.webhare.net/xmlns/publisher/tagfolder" />
    <to type="folder" foldertype="http://www.webhare.net/xmlns/publisher/foreignfolder" />
    <foldersettings ordering="none" />
  </apply>

  <!-- ======================================================================

       Make sure we can ALWAYS change site root folders back to "normalfolder"
       We need this because it's easy to accidentally block switching back if you do this:

       <apply
         <to type="all" parenttype="http://www.example.net/xmlns/footerfolder" />
         <denyfoldertype typedef="*" />
         <allowfoldertype typedef="http://www.example.net/xmlns/footersection" />
       </apply>

       which seems like a good idea, but because a site root folder tests parenttype= on *itself*
       changing a root folder's type becomes irreversible. The following rule fixes it
  ==== -->
  <apply priority="99999">
    <to type="folder" pathmask="/" />
    <allowfoldertype typemask="http://www.webhare.net/xmlns/publisher/normalfolder" />
  </apply>

  <contenttype namespace="http://www.webhare.net/xmlns/publisher/foldersync"
               cloneoncopy="false"
               comment="Folder sync">
    <array name="peers">
      <string name="peer" />
      <string name="remotepath" />
    </array>
  </contenttype>

  <foldertype namespace="http://www.webhare.net/xmlns/system/keystorefolder"
              comment="Key store">
    <members>
      <integer name="warnexpirydays" />
    </members>
  </foldertype>

  <!-- ======================================================================

       Consilio indexes

  ==== -->
  <applysiteprofile path="siteprofiles/debugsettings.siteprl.xml" />
  <applysiteprofile path="siteprofiles/abtest.siteprl.xml" />
  <applysiteprofile path="siteprofiles/pwa.siteprl.xml" />
  <applysiteprofile path="siteprofiles/shorturl.siteprl.xml" />

</siteprofile>
