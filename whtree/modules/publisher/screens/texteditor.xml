<screens xmlns="http://www.webhare.net/xmlns/tollium/screens" gid="texteditor" library="/lib/screens/texteditor.whlib">

  <messageboxes gid=".messageboxes">
    <messagebox name="succesfullysaved" buttons="ok" dontshowagain="ok" />
    <messagebox name="failedtosave" icon="error" buttons="ok" />
    <messagebox name="unsavedchanges" buttons="yes no cancel" />
    <messagebox name="saveignoreconflict" buttons="yes no cancel" />
    <messagebox name="cannotopenerroredfile" buttons="ok" />
  </messageboxes>

  <screen name="main"
          width="120x"
          height="45x"
          allowresize="true"
          flags="canwrite"
          gid=".main"
          savestate="position size"
          title="">
    <actions>
      <action name="save" frameflags="canwrite" onexecute="dosave" shortcut="ctrl+s" tid="~save" />
      <action name="openfile">
        <enableon source="messages" min="1" max="1" checkflags="canopen" onexecute="doopenfile_messages" />
        <enableon source="trace" min="1" max="1" checkflags="canopen" onexecute="doopenfile_stacktrace" />
      </action>
    </actions>

    <menus>
      <menu name="listcontext">
        <item action="openfile" />
      </menu>

      <!-- FIXME: Should be able to share the menu, why doesn't that work? -->
      <menu name="listcontext2">
        <item action="openfile" />
      </menu>
    </menus>

    <toolbar>
      <button action="save" icon="tollium:actions/save" />
    </toolbar>

    <body borders="bottom" spacers="none">
      <codeedit name="source" width="1pr" height="1pr" />
      <tabs name="messagestabs" visible="false">
        <tab name="messagestab">
          <panel height="1pr">
            <list name="messages"
                  width="1pr"
                  height="1pr"
                  minwidth="80x"
                  minheight="8x"
                  flags="canopen"
                  openaction="openfile"
                  selectcontextmenu="listcontext"
                  selectmode="single">
              <column name="filename" type="text" />
              <column name="line" type="integer" width="6x" />
              <column name="col" type="integer" width="6x" />
              <column name="error" type="text" />
            </list>
          </panel>
        </tab>
        <tab name="stacktracetab">
          <panel height="1pr">
            <list name="trace"
                  width="1pr"
                  height="1pr"
                  minwidth="80x"
                  minheight="8x"
                  emptytid=".nostacktrace"
                  flags="canopen"
                  openaction="openfile"
                  selectcontextmenu="listcontext2"
                  selectmode="single"
                  sortable="false">
              <column name="filename" type="text" />
              <column name="line" type="integer" width="6x" />
              <column name="col" type="integer" width="6x" />
              <column name="func" type="text" />
            </list>
          </panel>
        </tab>
      </tabs>
    </body>

    <footer>
      <line layout="left">
        <text name="statusbar" title="" />
      </line>
    </footer>
  </screen>

</screens>
