<?wh
/** @topic widgets/widgets
*/

LOADLIB "mod::publisher/lib/widgets.whlib";

OBJECTTYPE SharedHTMLWidgetBase EXTEND WidgetBase
<
  UPDATE PUBLIC MACRO RenderEmail(OBJECT mailcomposer)
  {
    Print(this->data.html);
  }

  UPDATE PUBLIC MACRO RenderLive()
  {
    Print(this->data.html);
  }
>;

/** @short Embedded HTML widget
    @long Implements raw HTML widget (http://www.webhare.net/xmlns/publisher/embedhtml)
*/
PUBLIC OBJECTTYPE HTMLWidgetBase EXTEND SharedHTMLWidgetBase
<
  UPDATE PUBLIC MACRO Render()
  {
    Print('<div class="wh-rtd__preview__htmlcode">');
    Print(EncodeHTML(this->data.html));
    Print('</div>');
    Print('<img src="/tollium_todd.res/publisher/img/html.png" alt="" class="wh-rtd-color-on-hover" style="position:absolute; bottom:5px; right:5px" />');
  }
>;

PUBLIC OBJECTTYPE InlineHTMLWidgetBase EXTEND SharedHTMLWidgetBase
<
  UPDATE PUBLIC MACRO Render()
  {
    Print('<span class="wh-rtd__preview__htmlcode">');
    Print(EncodeHTML(this->data.html));
    Print('</span>');
  }
>;

