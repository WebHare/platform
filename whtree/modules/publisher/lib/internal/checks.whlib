<?wh
LOADLIB "mod::publisher/lib/internal/siteprofiles/cache.whlib";
LOADLIB "mod::system/lib/configure.whlib";

PUBLIC OBJECTTYPE SiteProfileCheck EXTEND CustomCheckBase
<
  UPDATE PUBLIC STRING ARRAY FUNCTION GetIssues()
  {
    RECORD csp := GetCachedSiteProfiles();
    RETURN SELECT AS STRING ARRAY resourcename || "(" || line || "): " || message FROM csp.messages WHERE type="error";
  }
>;
