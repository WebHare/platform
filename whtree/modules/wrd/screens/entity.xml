<screens xmlns="http://www.webhare.net/xmlns/tollium/screens"
         xmlns:wrd="http://www.webhare.net/xmlns/wrd/components"
         library="/lib/screens/entity.whlib">

  <screen name="edit" allowresize="true" footerbuttons="ok cancel" gid="main.entityeditor">
    <compositions>
      <wrd:entity name="entity" />
      <radiogroup name="limitdatesetting" />
    </compositions>

    <body spacers="none">
      <tabs type="regular" height="1pr">
        <tab name="basedata">
          <panel name="basedatapanel" />
          <heading name="availabilitybox" />
          <datetime name="creationdate"
                    type="datetime"
                    precision="milliseconds"
                    required="true"
                    storeutc="true"
                    tid=".available_since" />
          <line>
            <radiobutton name="nolimitdatesetting"
                         group="limitdatesetting"
                         onset="onlimitdateset"
                         rowkey="nolimitdate"
                         tid=".limitdatesetting" />
            <text labelfor="nolimitdatesetting" valuetid=".nolimitdate" />
          </line>
          <line>
            <radiobutton group="limitdatesetting" onset="onlimitdateset" rowkey="limitdate_date" title="" />

            <!-- FIXME: Want to do without title="", but it crashes tollium: "Child not inside the panel is trying to replace itself" -->
            <datetime name="limitdate" type="datetime" precision="milliseconds" storeutc="true" title="" />
          </line>
        </tab>
        <tab name="fields" />
        <tab name="history" />
        <tab name="linkcheck" layout="left">
          <includefragment name="objectreport" fragment="consilio:report.objectreport" />
        </tab>
        <tab name="developers">
          <textedit composition="entity" cellname="wrd_id" width="10x" enabled="false" valuetype="integer" />
          <textedit composition="entity" cellname="wrd_guid" width="40x" enabled="false" />
          <datetime name="wrd_modificationdate" type="datetime" precision="milliseconds" readonly="true" storeutc="true" />  <!-- not part of the composition, to avoid overwriting when submitting -->
          <wrd:field name="tagfield" entity="entity" field="wrd_tag" />
        </tab>
      </tabs>
    </body>
  </screen>

  <screen name="updatelink" minwidth="300px" minheight="250px" gid="links.update">
    <compositions>
      <wrd:entity name="entitytype" />
      <wrd:entity name="linkobj" />
    </compositions>

    <body spacers="none">
      <wizard name="wizard">
        <page name="linktypepage" onnext="onlinktypenext">
          <select name="linktypes" type="radio" required="true" rowkeytype="integer" />
        </page>
        <page name="linkpropertiespage" isfinish="true" onnext="onlinkpropertiesnext">
          <box name="linkproperties">
            <text name="dummy" title="" visible="false" />
            <wrd:field entity="entitytype"
                       errorlabeltid=".leftentity"
                       field="wrd_leftentity"
                       required="true"
                       tid=".leftentity" />
            <text name="linkname" title="" value="" />
            <wrd:field entity="entitytype"
                       errorlabeltid=".rightentity"
                       field="wrd_rightentity"
                       required="true"
                       tid=".rightentity" />
          </box>
          <box name="extraproperties" />
        </page>
      </wizard>
    </body>
  </screen>

</screens>
