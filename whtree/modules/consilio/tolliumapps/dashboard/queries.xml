<screens xmlns="http://www.webhare.net/xmlns/tollium/screens"
         library="queries.whlib"
         gid="tolliumapps.dashboard.queries">

  <screen name="queries" title="">
    <actions>
      <action name="openquery" onexecute="doopenquery" tid="~open">
        <enableon source="queries" min="1" max="1" />
      </action>
      <action name="clearqueries" onexecute="doclearqueries" tid="~clear" />
    </actions>
    <compositions>
      <eventlistener name="consiliolistener" onevents="onconsilioevents" />
    </compositions>
    <body spacers="none">
      <grid height="1pr">
        <cell width="1pr">
          <list name="queries" height="1pr" selectmode="single" openaction="openquery" borders="right" empty="Live queries are temporarily unavailable">
            <column name="when" type="datetime" storeutc="true" width="15x" />
            <column name="catalog" type="text" width="20x" />
            <column name="query" type="text" width="1pr" />
          </list>
        </cell>
        <cell spacers="top right">
          <button action="openquery" />
          <button action="clearqueries" />
        </cell>
      </grid>
    </body>
  </screen>

  <screen name="inspectquery" width="120x" height="35x" allowresize="true">
    <actions>
      <action name="runquery" onexecute="dorunquery" />
    </actions>

    <body>
      <select name="indexmanager" type="pulldown" />
      <split type="vertical" height="1pr">
        <part>
          <grid height="1pr">
            <cell width="1pr" borders="all">
              <codeedit name="query" width="1pr" height="1pr" minwidth="30x" minheight="4x" />
            </cell>
            <cell>
              <button action="runquery" />
            </cell>
          </grid>
        </part>
        <part borders="all">
          <codeedit name="result" width="1pr" height="1pr" minwidth="30x" minheight="4x" />
        </part>
      </split>
    </body>

    <footer>
      <defaultformbuttons buttons="close" />
    </footer>
  </screen>

</screens>
